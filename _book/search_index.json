[["תנאים.html", " 5 תנאים 5.1 יש! אנחנו יכולים לשאול את המחשב שאלות 5.2 וריאציות", " 5 תנאים לעיתים קרובות אנחנו רוצים לשאול את המחשב שאלות. למשל, נרצה לפעמים לקבל תובה של כן או לא על שאלות כמו האם המספר הזה זוגי? האם המחרוזת שלי באורך של 4 תווים? הדרך לעשות זאת בשפות תכנות באופן כללי, וגם בשפת R בפרט היא בעזרת שאילתות של if else. שאילתה כזאת תקבל איזה פסוק לוגי, שיכול לקבל ערך של או אמת או שקר, ואנו נפרט לה מה להחזיר עבור אמת ומה להחזיר עבור שקר. בואו נראה דוגמא. 5.1 יש! אנחנו יכולים לשאול את המחשב שאלות נניח ויש לי מספר, x, שמכיל רנדומלי ערך מסויים, נגיד 5. x &lt;- 5 אני יכול לבקש מהמחשב להדפיס האם הערך של x הוא זוגי או אי זוגי. ראשית אראה איך לכתוב את הפסוק הלוגי שיענה לי על השאלה הזאת. עבור כך אני אעשה שימוש באופרטור ״מודולו״ שכותבים אותו ב R כך %%. את הביטוי 11 %% 3 נקרא באופן הבא: 11 מודלו שלוש, והמשמעות המתמטית של הביטוי היא מהי שארית החלוקה במספרים שלמים של 11 חלקי 3. התשובה לכך היא 2. באופן תכנותי ב R אכתוב את השאלה הזאת כך 11 %% 3 ## [1] 2 מעולה! נחזור לעניינו, אני רוצה לברר האם המספר שלי x הוא זוגי או אי-זוגי. עבור כל מספר זוגי, שארית החלוקה ב 2 היא 0, ועבור כל מספר אי-זוגי שארית החלוקה ב 2 היא 1. לכך כדי לקבל תשובה של אמת או שקר על האם x הוא זוגי אכתוב ב R x %% 2 == 0 ## [1] FALSE זה התנאי ששאילתת ה ifelse שלנו תקבל. המבנה של שאילתת ifelse נראה כך: if(&quot;פסוק לוגי שיכול לקבל ערך של אמת או שקר&quot;){ &quot;פקודות של מה שיקרה אם הפסוק הוא פסוק אמת&quot; } else { &quot;פקודות של מה יקרה אם הפסוק הוא פסוק שקר&quot; } נראה דוגמא: if(x %% 2 == 0){ print(&quot;wow, x is even!&quot;) } else { print(&quot;look, x is odd!&quot;) } ## [1] &quot;look, x is odd!&quot; בגלל שערך של x הוא 5, x הוא אי-זוגי, התנאי בשאילתה קיבל ערך FALSE ולכן רצו רק הפקודות בתוך הסוגריים המסולסלים של ה else ולא רצו כלל הפקודות בתוך הסוגריים המסולסלים של ה if מגניב. 5.2 וריאציות ניתן לכלול יותר מתנאי אחד בשאילתת ifelse, למשל אני רוצה לחלק את הקלטים המספריים שלי באופן הבא: אם x זוגי וגדול מ 10, תדפיס ״ big-even\" אם x שווה בדיוק ל 1 תדפיס ״the one and only\" בכל מקרה אחר, תדפיס ״orrrr\" ב R הפקידה הזאת תראה כך: if(x %% 2 == 0 &amp; x &gt; 10){ print(&quot;big-even&quot;) } else if(x == 1){ print(&quot;the one and only&quot;) } else{ print(&quot;orrrr&quot;) } ## [1] &quot;orrrr&quot; באותה הדרך אנחנו יכולים להוסיף כמה תנאי שרק נראה, רק חשוב לשים לב שכותבים את הקוד בדיוק האותו האופן שכתבתי פה. 5.2.1 ifelse פקודה סופר שימושים ב R נקראת ifelse והיא משתמש ליצירת שאילתת תנאי על וקטור שלם. נניח שיש לי את הוקטור הרנדומלי הבא: rand_v &lt;- sample(1:100, 20) print(rand_v) ## [1] 82 62 60 40 96 100 58 67 10 63 31 8 32 46 2 95 26 21 ## [19] 90 23 ואני רוצה לשאול עבור כך ערך בנפרד האם הוא זוגי או אי-זוגי - אשתמש בשביל זה בפונקציה ifelse. הדרך לכתוב אותה היא כזאת: ifelse(&quot;מבחן על וקטור&quot; , &quot;מה להחזיר עם המבחן מצליח&quot;, &quot;מה להחזיר אם הוא לא מצליח&quot; ) ודוגמא לעניננו בפועל: ifelse(rand_v %% 2 == 0, &quot;good&quot;, &quot;why???&quot;) ## [1] &quot;good&quot; &quot;good&quot; &quot;good&quot; &quot;good&quot; &quot;good&quot; &quot;good&quot; &quot;good&quot; &quot;why???&quot; ## [9] &quot;good&quot; &quot;why???&quot; &quot;why???&quot; &quot;good&quot; &quot;good&quot; &quot;good&quot; &quot;good&quot; &quot;why???&quot; ## [17] &quot;good&quot; &quot;why???&quot; &quot;good&quot; &quot;why???&quot; הפלט של הפונקציה הוא וקטור, ונוכל כמובן לשמור אותה לשימוש עתידי אם נרצה זאת. "]]
